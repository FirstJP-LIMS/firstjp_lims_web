{% extends "platform/assets/base.html" %}
{% block content %}
<div class="max-w-3xl mx-auto py-10">
    <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <div class="bg-[#0a2347] text-white text-center py-6">
            <h2 class="text-2xl font-semibold">Join MEDVUNO</h2>
        </div>

        <div class="p-8">
            {% if messages %}
                {% for message in messages %}
                    <div class="mb-4 px-4 py-3 rounded text-white 
                        {% if message.tags == 'success' %} bg-green-600 
                        {% elif message.tags == 'error' %} bg-red-600 
                        {% else %} bg-gray-700 {% endif %}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}

            <form method="post" class="space-y-6">
                {% csrf_token %}

                <!-- Business Information -->
                <div>
                    <h3 class="text-nav-blue font-semibold border-b pb-2 mb-3">Business Information</h3>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Business / Lab Name</label>
                        {{ form.name }}
                        {% if form.name.errors %}
                            <div class="text-red-600 text-sm mt-1">
                                {% for error in form.name.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Admin Information -->
                <div>
                    <h3 class="text-nav-blue font-semibold border-b pb-2 mb-3">Admin Information</h3>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Admin Email</label>
                        {{ form.admin_email }}
                        {% if form.admin_email.errors %}
                            <div class="text-red-600 text-sm mt-1">
                                {% for error in form.admin_email.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">First Name</label>
                            {{ form.admin_first_name }}
                            {% if form.admin_first_name.errors %}
                                <div class="text-red-600 text-sm mt-1">
                                    {% for error in form.admin_first_name.errors %}
                                        <p>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Last Name</label>
                            {{ form.admin_last_name }}
                            {% if form.admin_last_name.errors %}
                                <div class="text-red-600 text-sm mt-1">
                                    {% for error in form.admin_last_name.errors %}
                                        <p>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Contact Number</label>
                            <div class="flex">
                                {{ form.contact_number }}
                            </div>
                            {% if form.contact_number.errors %}
                                <div class="text-red-600 text-sm mt-1" id="phone-error">
                                    {% for error in form.contact_number.errors %}
                                        <p>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}
                            <p class="text-xs text-gray-500 mt-1">
                                Use your country code (e.g. +234-905696969)
                            </p>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                            {{ form.admin_password }}
                            {% if form.admin_password.errors %}
                                <div class="text-red-600 text-sm mt-1">
                                    {% for error in form.admin_password.errors %}
                                        <p>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Confirm Password</label>
                            {{ form.admin_password_confirm }}
                            {% if form.admin_password_confirm.errors %}
                                <div class="text-red-600 text-sm mt-1">
                                    {% for error in form.admin_password_confirm.errors %}
                                        <p>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <!-- Rest of your template remains the same -->
                <!-- Address Information -->
                <div>
                    <h3 class="text-nav-blue font-semibold border-b pb-2 mb-3">Address Information</h3>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Street Address</label>
                        {{ form.office_street_address }}
                        {% if form.office_street_address.errors %}
                            <div class="text-red-600 text-sm mt-1">
                                {% for error in form.office_street_address.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">City & State</label>
                            {{ form.office_city_state }}
                            {% if form.office_city_state.errors %}
                                <div class="text-red-600 text-sm mt-1">
                                    {% for error in form.office_city_state.errors %}
                                        <p>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Country</label>
                            {{ form.office_country }}
                            {% if form.office_country.errors %}
                                <div class="text-red-600 text-sm mt-1">
                                    {% for error in form.office_country.errors %}
                                        <p>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>

                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Zipcode</label>
                        {{ form.office_zipcode }}
                        {% if form.office_zipcode.errors %}
                            <div class="text-red-600 text-sm mt-1">
                                {% for error in form.office_zipcode.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Plan Selection -->
                <div>
                    <h3 class="text-nav-blue font-semibold border-b pb-2 mb-3">Subscription Plan</h3>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Plan Type</label>
                        {{ form.plan_type }}
                        {% if form.plan_type.errors %}
                            <div class="text-red-600 text-sm mt-1">
                                {% for error in form.plan_type.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Non-field errors -->
                {% if form.non_field_errors %}
                    <div class="text-red-600 text-sm mb-4">
                        {% for error in form.non_field_errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}

                <!-- Submit Button -->
                <button type="submit" class="w-full bg-[#0a2347] text-white font-medium py-3 rounded-md transition hover:bg-blue-800">
                    Submit Registration
                </button>
            </form>
        </div>
    </div>
</div>


{% endblock %}