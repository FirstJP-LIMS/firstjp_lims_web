<header class="sticky top-0 z-40 bg-white shadow-lg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
            <!-- Logo/Brand -->
            <div class="flex-shrink-0 flex items-center">
                <a href="{% url 'labs:vendor_dashboard' %}" class="text-2xl font-bold text-navy-800 tracking-wider">
                    {% if vendor_profile.logo %}
                        <img src="{{ vendor_profile.logo.url }}" alt="{{ vendor.name }} Logo" class="h-8 w-auto">
                    {% else %}
                        {{ vendor.name }}
                    {% endif %}
                </a>
                <span class="ml-2 px-2 py-1 bg-gold-500 text-navy-800 text-xs font-bold rounded-full hidden sm:inline-block transform -rotate-2 shadow-sm">
                    QC
                </span>
            </div>

            <!-- Navigation -->
            <nav class="hidden sm:ml-6 sm:flex sm:space-x-2">
                <a href="{% url 'labs:qc_dashboard' %}" class="text-gray-600 hover:text-navy-700 hover:bg-navy-50 px-4 py-2 rounded-lg text-sm font-semibold transition duration-200 ease-in-out">
                    Dashboard
                </a>
                <a href="{% url 'labs:qclot_list' %}" class="text-gray-600 hover:text-navy-700 hover:bg-navy-50 px-4 py-2 rounded-lg text-sm font-semibold transition duration-200 ease-in-out">
                    <i class="fas fa-vial mr-2"></i>
                    QC Lots
                </a>
                <a href="{% url 'labs:qc_entry' %}" class="text-gray-600 hover:text-navy-700 hover:bg-navy-50 px-4 py-2 rounded-lg text-sm font-semibold transition duration-200 ease-in-out">
                    <i class="fas fa-edit mr-2"></i>
                    QC Entry
                </a>
                <a href="{% url 'labs:qc_results_list' %}" class="text-gray-600 hover:text-navy-700 hover:bg-navy-50 px-4 py-2 rounded-lg text-sm font-semibold transition duration-200 ease-in-out">
                    <i class="fas fa-database mr-2"></i>
                    Results
                </a>
                
                <!-- Settings Dropdown -->
                <div class="relative group" x-data="{ open: false }">
                    <button @click="open = !open" class="text-gray-600 hover:text-navy-700 hover:bg-navy-50 px-4 py-2 rounded-lg text-sm font-semibold transition duration-200 ease-in-out flex items-center">
                        <i class="fas fa-cog mr-2"></i>
                        Report
                        <i class="fas fa-chevron-down ml-1 text-xs transition-transform duration-200" :class="{'rotate-180': open}"></i>
                    </button>
                    
                    <!-- Dropdown Menu -->
                    <div x-show="open" @click.outside="open = false" 
                         class="absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-2xl border border-gray-200 py-2 z-50 transition-all duration-200 origin-top-right"
                         x-transition:enter="transition ease-out duration-200"
                         x-transition:enter-start="opacity-0 scale-95"
                         x-transition:enter-end="opacity-100 scale-100"
                         x-transition:leave="transition ease-in duration-150"
                         x-transition:leave-start="opacity-100 scale-100"
                         x-transition:leave-end="opacity-0 scale-95">
                        
                        
                        <!-- Report Section -->
                        <div class="px-4 py-2 border-b border-gray-100">
                            <p class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">QC Management</p>
                            <div class="space-y-1">
                                <a href="{% url 'labs:qc_monthly_report' %}" class="flex items-center space-x-3 px-2 py-2 text-sm text-gray-700 hover:bg-navy-50 hover:text-navy-700 rounded-lg transition duration-150 ease-in-out group">
                                    <i class="fas fa-chart-pie w-4 h-4 text-purple-600 group-hover:text-purple-700"></i>
                                    <span>Monthly Reports</span>
                                </a>
                                <a href="#" class="flex items-center space-x-3 px-2 py-2 text-sm text-gray-700 hover:bg-navy-50 hover:text-navy-700 rounded-lg transition duration-150 ease-in-out group">
                                    <i class="fas fa-chart-line w-4 h-4 text-blue-600 group-hover:text-blue-700"></i>
                                    <span>QC Charts</span>
                                </a>  
                            </div>
                        </div>
                    </div>
                </div>
            </nav>

            <!-- Right side icons -->
            <div class="flex items-center space-x-4">

                <!-- User Profile Section -->
                    <div class="px-4 py-3 border-b border-gray-100 bg-gradient-to-r from-navy-50 to-blue-50">
                        <div class="flex items-center space-x-3">
                            <div>
                                <p class="text-sm font-semibold text-navy-800"> {{ user.first_name|first|upper }}
                                    {{ user.last_name|first|upper }}
                                </p>
                            </div>

                        </div>
                    </div>

                <!-- Mobile menu button -->
                <div class="sm:hidden">
                    <button type="button" class="bg-white p-2 rounded-md text-gray-500 hover:text-navy-700 hover:bg-navy-50 focus:outline-none transition duration-200 ease-in-out">
                        <i class="fas fa-bars h-5 w-5"></i>
                    </button>
                </div>

            </div>
        </div>
    </div>
</header>

<!-- Alpine.js for dropdown functionality -->
<script src="//unpkg.com/alpinejs" defer></script>

<style>
    .text-gold-600 { color: #d4af37; }
    .bg-gold-500 { background-color: #d4af37; }
    
    .text-navy-700 { color: #1e3a8a; }
    .text-navy-800 { color: #1e40af; }
    .bg-navy-50 { background-color: #eff6ff; }
    
    .bg-red-600 { background-color: #dc2626; }
    
    /* Smooth transitions */
    .group:hover .group-hover\:text-gold-700 { color: #b8941f; }
    
    /* Custom scrollbar for notifications */
    .overflow-y-auto::-webkit-scrollbar {
        width: 4px;
    }
    
    .overflow-y-auto::-webkit-scrollbar-track {
        background: #f1f5f9;
    }
    
    .overflow-y-auto::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 2px;
    }
</style>